<!--
  Generated template for the MonthlyTaskPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
    <ion-title>
      <div class="monthSelect">
        <ion-item>
          <ion-select [(ngModel)]="dateSelected" okText="确定" cancelText="取消" (ionChange)='changeDate()' style="color: #fff;font-size: 1.5rem;">
            <ion-option value="">当月任务</ion-option>
            <ion-option *ngFor='let item of datemap' value="{{item.date}}">{{item.date}}</ion-option>
          </ion-select>
        </ion-item>
      </div>
    </ion-title>
  </ion-navbar>
</ion-header>
<ion-content>
  <div class="groupSelect">
    <ion-item>
      <ion-label></ion-label>
      <ion-select [(ngModel)]="storeSelected" okText="确定" cancelText="取消" (ionChange)='changeStore()' style="font-size: 1.5rem;">
        <ion-option value="">燕之坊总部</ion-option>
        <ion-option *ngFor='let item of storeMap' value="{{item.id}}">{{item.storeName}}</ion-option>
      </ion-select>
    </ion-item>
  </div>
  <div class="monthlyList">
    <div class="title" [navPush]='monthlyTaskDetail' [navParams]='params1'>
      <img src="./assets/imgs/task1.png">
      <div class="name">
        <span>目标销售额</span>
        <span>{{taskAmount}}</span>
      </div>
      <div class="m_icon">
        <ion-icon name="ios-arrow-forward" end></ion-icon>
      </div>
    </div>
    <div class="content">
      <div class="successRate">
        <p>实际完成</p>
        <p [ngStyle]="{'color':preConsumePrice>100?'#ed4247':'#4aa44c'}">{{preConsumePrice}}
          <span>%</span>
        </p>
      </div>
      <div class="successPro">
        <p [ngStyle]="{'color':preConsumePrice>100?'#ed4247':'#4aa44c'}">{{consumePriceSum}}</p>
        <div class="progress">
          <div class="progress-bar" role="progressbar" aria-valuenow="80" aria-valuemin="0" aria-valuemax="100" [ngStyle]="{'background':preConsumePrice>100?'#ed4247':'#4aa44c','width':preConsumePrice=='-'?0+'%':preConsumePrice+'%'}">
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="monthlyList">
    <div class="title" [navPush]='monthlyTaskDetail' [navParams]='params3'>
      <img src="./assets/imgs/task3.png">
      <div class="name">
        <span>目标新会员</span>
        <span>{{taskMember}}</span>
      </div>
      <div class="m_icon">
        <ion-icon name="ios-arrow-forward" end></ion-icon>
      </div>
    </div>
    <div class="content">
      <div class="successRate">
        <p>实际完成</p>
        <p [ngStyle]="{'color':preMember>100?'#ed4247':'#4aa44c'}">{{preMember}}
          <span>%</span>
        </p>
      </div>
      <div class="successPro">
        <p [ngStyle]="{'color':preMember>100?'#ed4247':'#4aa44c'}">{{newMember}}</p>
        <div class="progress">
          <div class="progress-bar" role="progressbar" aria-valuenow="80" aria-valuemin="0" aria-valuemax="100" [ngStyle]="{'background':preMember>100?'#ed4247':'#4aa44c','width':preMember=='-'?0+'%':preMember+'%'}">
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="monthlyList">
    <div class="title" [navPush]='monthlyTaskDetail' [navParams]='params2'>
      <img src="./assets/imgs/task2.png">
      <div class="name">
        <span>目标新客数</span>
        <span>{{taskCustomer}}</span>
      </div>
      <div class="m_icon">
        <ion-icon name="ios-arrow-forward" end></ion-icon>
      </div>
    </div>
    <div class="content">
      <div class="successRate">
        <p>实际完成</p>
        <p [ngStyle]="{'color':preCustomer>100?'#ed4247':'#4aa44c'}">{{preCustomer}}
          <span>%</span>
        </p>
      </div>
      <div class="successPro">
        <p [ngStyle]="{'color':preCustomer>100?'#ed4247':'#4aa44c'}">{{consumeNum}}</p>
        <div class="progress">
          <div class="progress-bar" role="progressbar" aria-valuenow="80" aria-valuemin="0" aria-valuemax="100" [ngStyle]="{'background':preCustomer>100?'#ed4247':'#4aa44c','width':preCustomer=='-'?0+'%':preCustomer+'%'}">
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- create by linyunfu new AddProject newWeChatFans 2018-06-04 -->
  <div class="monthlyList">
    <div class="title" [navPush]='monthlyTaskDetail' [navParams]='params4'>
      <img src="./assets/imgs/weChatFans.png">
      <div class="name">
        <span>目标微信粉丝数</span>
        <span>{{taskWXMember}}</span>
      </div>
      <div class="m_icon">
        <ion-icon name="ios-arrow-forward" end></ion-icon>
      </div>
    </div>
    <div class="content">
      <div class="successRate">
        <p>实际完成</p>
        <p [ngStyle]="{'color':preMember>100?'#ed4247':'#4aa44c'}">{{preWeChat}}
          <span>%</span>
        </p>
      </div>
      <div class="successPro">
        <p [ngStyle]="{'color':preMember>100?'#ed4247':'#4aa44c'}">{{weiXinFansNum}}</p>
        <div class="progress">
          <div class="progress-bar" role="progressbar" aria-valuenow="80" aria-valuemin="0" aria-valuemax="100" [ngStyle]="{'background':preWeChat>100?'#ed4247':'#4aa44c','width':preWeChat=='-'?0+'%':preWeChat+'%'}">
          </div>
        </div>
      </div>
    </div>
  </div>

</ion-content>